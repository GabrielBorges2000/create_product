<script>
  $(document).ready(() => {

    $('.btn-product-created').click(() => {
      const productName = $('.input-product').val()
      const stock = parseInt($('.input-stock').val())
      const value = parseInt($('.input-value').val())

      if (!productName || isNaN(stock) || isNaN(value)) {
        return alert("Preencha todos os campos para cadastrar um produto!")
      }

      if (stock <= 0 || value <= 0) {
        return alert("Adicione a quantidade ou valor para cadastrar um produto!")
      }

      $.ajax({
        type: 'POST',
        url: '/product',
        data: {
          productName: productName,
          stock: stock,
          value: value,
        }
      }).done(function (dados) {
        alert("Produto criado com sucesso!")
        location.reload()
      }).fail(function (error) {
        console.log(error)
        alert("Erro ao criar o produto!")
      })

    })

  })
</script>